(this.webpackJsonpstrategy=this.webpackJsonpstrategy||[]).push([[0],{176:function(e,t,a){},246:function(e,t,a){e.exports=a(459)},251:function(e,t,a){},456:function(e,t,a){},458:function(e,t,a){},459:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),m=a(8),o=a.n(m),c=(a(251),a(167)),l=a(60),i=a(14),u=a(464),s=a(30),b=a(467),f=a(470),p=a(469),v=a(67),d=a(463),E=a(465),g=a(462),N=a(466),h=[{key:"5mins",tab:"5\u5206\u949f\u7ebf"}],P={"1min":1,"5mins":5,"15mins":15},y=a(25),S=a.n(y),V=a(12),O=function(){return localStorage.getItem("VPAtime")&&"undefined"!==localStorage.getItem("VPAtime")||localStorage.setItem("VPAtime",JSON.stringify([])),JSON.parse(localStorage.getItem("VPAtime"))},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(e,t){return console.log(S.a.unix(e.timeStamp).format("X")),Number(S.a.unix(e.timeStamp).format("X"))-Number(S.a.unix(t.timeStamp).format("X"))})),e},j=function(e){return(Number(e.closePrice)-Number(e.openPrice))/x(e)},x=function(e){return(Number(e.closePrice)-Number(e.openPrice))/(Number(e.highestPrice)-Number(e.lowestPrice))*Number(e.volumns)},k=(a(176),{labelCol:{span:6},wrapperCol:{span:16}}),I={wrapperCol:{offset:6,span:16}},T=[{required:!0,message:"\u5fc5\u586b"},{type:"number",message:"\u8bf7\u8f93\u5165\u6570\u5b57"}],A={timeStamp:S()("00:00","HH:mm")};var C=function(e){var t=e.showAddVPA,a=e.volumnTabKey,n=e.onToggleShowVPA,m=e.updateData,o=void 0===m?function(){}:m,c=d.a.useForm(),l=Object(i.a)(c,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{visible:t,title:"\u589e\u52a0\u4e00\u6761VP",onCancel:n,maskClosable:!1,footer:[r.a.createElement(s.a,{key:"back",onClick:n},"\u53d6\u6d88")]},r.a.createElement(d.a,Object.assign({},k,{form:l,name:"VPRecorderForm",onFinish:function(e){!function(e){var t=JSON.stringify(w([].concat(Object(V.a)(O()||[]),[Object(v.a)({},e)])));localStorage.setItem("VPAtime",t)}({value:Object(v.a)({},e),timeStamp:S()(e.timeStamp).format("X")}),n(),o()},onFinishFailed:function(){},initialValues:A}),r.a.createElement(d.a.Item,{label:"\u65f6\u95f4",name:"timeStamp",rules:[{required:!0,message:"Please input your username!"}]},r.a.createElement(g.a,{placeholder:"",className:"form-width-full-fixer",minuteStep:P[a],format:"HH:mm"})),r.a.createElement(d.a.Item,{label:"\u5f00\u4ef7",name:"openPrice",normalize:Number,rules:[].concat(T)},r.a.createElement(N.a,{type:"number"})),r.a.createElement(d.a.Item,{label:"\u6536\u4ef7",name:"closePrice",normalize:Number,rules:[].concat(T)},r.a.createElement(N.a,{type:"number"})),r.a.createElement(d.a.Item,{label:"\u6700\u9ad8\u4ef7",name:"highestPrice",normalize:Number,dependencies:["lowestPrice"],rules:[].concat(T,[function(e){var t=e.getFieldValue;return{validator:function(e,a){return!a||Number(t("lowestPrice")||0)<=Number(a)?Promise.resolve():Promise.reject("\u6700\u4f4e\u4ef7\u4e0d\u80fd\u9ad8\u4e8e\u6700\u9ad8\u4ef7")}}}])},r.a.createElement(N.a,{type:"number"})),r.a.createElement(d.a.Item,{label:"\u6700\u4f4e\u4ef7",name:"lowestPrice",normalize:Number,dependencies:["highestPrice"],rules:[].concat(T,[function(e){var t=e.getFieldValue;return{validator:function(e,a){return!a||Number(t("highestPrice")||0)>=Number(a)?Promise.resolve():Promise.reject("\u6700\u4f4e\u4ef7\u4e0d\u80fd\u9ad8\u4e8e\u6700\u9ad8\u4ef7")}}}])},r.a.createElement(N.a,{type:"number"})),r.a.createElement(d.a.Item,{label:"\u91cf\u7ea7",name:"volumns",normalize:Number,rules:[].concat(T)},r.a.createElement(N.a,{type:"number"})),r.a.createElement(d.a.Item,I,r.a.createElement(s.a,{type:"primary",htmlType:"submit",className:"form-button-bottom-common"},"\u63d0\u4ea4"),r.a.createElement(s.a,{htmlType:"button",onClick:function(){l.resetFields()}},"\u91cd\u586b")))))};var F=function(e){var t=e.volumnTabKey,a=void 0===t?"5mins":t,m=e.clearData,o=void 0===m?function(){}:m,c=e.updateData,l=void 0===c?function(){}:c,u=Object(n.useState)(!1),v=Object(i.a)(u,2),d=v[0],E=v[1],g=function(){E(!d)};return r.a.createElement("div",null,r.a.createElement("div",{className:"add-vpa-container"},r.a.createElement(s.a,{className:"form-button-bottom-common",type:"primary",shape:"round",icon:r.a.createElement(f.a,null),onClick:g},"\u589e\u52a0\u6570\u636e"),r.a.createElement(b.a,{title:"\u6e05\u7a7a\u6570\u636e\u9700\u8981\u91cd\u65b0\u5f55\u5165\uff0c\u662f\u5426\u7ee7\u7eed\uff1f",onConfirm:o,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},r.a.createElement(s.a,{className:"form-button-bottom-common",type:"danger",shape:"round",icon:r.a.createElement(p.a,null)},"\u6e05\u7a7a\u6570\u636e")),r.a.createElement(C,{showAddVPA:d,volumnTabKey:a,onToggleShowVPA:g,updateData:l})))};a(239);var D=a(468),H=a(472),J=a(471);var z=function(e){var t=e.data,a=e.updateData,n=function(e){var t=O();t.splice(e,1),function(e){var t=JSON.stringify(w(e));localStorage.setItem("VPAtime",t)}(t),a()};return r.a.createElement("div",{className:"screen-container"},t.map((function(e,t){var a=Number(e.fixVolumn)>0?{color:"#3f8600"}:{color:"#cf1322"},m=Number(e.fixVolumn)>0?r.a.createElement(H.a,null):r.a.createElement(J.a,null);return r.a.createElement(u.a.Grid,{key:e.timeStamp+"index"+t,className:"screen-card-container"},r.a.createElement(D.a,{title:S.a.unix(Number(e.timeStamp,"X")).format("HH:mm"),value:e.moveVolumn,precision:2,valueStyle:a,prefix:m}),r.a.createElement(b.a,{title:"\u6e05\u7a7a\u6570\u636e\u9700\u8981\u91cd\u65b0\u5f55\u5165\uff0c\u662f\u5426\u7ee7\u7eed\uff1f",onConfirm:function(){n(t)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},r.a.createElement(p.a,null)))})))};a(456);var K=function(){var e=Object(n.useState)("5mins"),t=Object(i.a)(e,2),a=t[0],m=t[1],o=Object(n.useState)([]),c=Object(i.a)(o,2),l=c[0],s=c[1],b=Object(n.useCallback)((function(){var e=O();s(function(e){return e.map((function(t,a){return 0===a||Number(t.timeStamp)-Number(e[a-1].timeStamp)!==300?Object(v.a)({},t,{moveVolumn:"\u975e\u8fde\u7eed\u8d77\u70b9",fixVolumn:x(t.value)}):Object(v.a)({},t,{moveVolumn:j(t.value)/j(e[a-1].value),fixVolumn:x(t.value)})}))||[]}(e))}),[O]);return Object(n.useEffect)((function(){b()}),[b]),r.a.createElement("div",{className:"vpaContainer"},r.a.createElement(u.a,{title:"\u8d70\u52bf\u5206\u6790",tabList:h,activeTabKey:a,onTabChange:function(e){m(e)}},r.a.createElement(F,{volumnTabKey:a,clearData:function(){localStorage.removeItem("VPAtime"),b()},updateData:b}),r.a.createElement(z,{data:l,updateData:b})))};var X=Object(l.e)((function(e){return r.a.createElement("div",null,r.a.createElement(K,null))}));a(458);var q=function(){return r.a.createElement(c.a,null,r.a.createElement(l.a,{exact:!0,path:"/home",component:X}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[246,1,2]]]);
//# sourceMappingURL=main.7d770fd5.chunk.js.map